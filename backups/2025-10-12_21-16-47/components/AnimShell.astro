---
/* GSAP ScrollTrigger + Lenis smooth scrolling */
---
<script>
  import Lenis from '@studio-freight/lenis';
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  gsap.registerPlugin(ScrollTrigger);

  window.addEventListener('DOMContentLoaded', () => {
    const lenis = new Lenis({ duration: 1.1 });
    function raf(t){ lenis.raf(t); requestAnimationFrame(raf); }
    requestAnimationFrame(raf);
    lenis.on('scroll', ScrollTrigger.update);

    document.querySelectorAll('.reveal').forEach((el) => {
      gsap.fromTo(el, { y: 40, autoAlpha: 0 }, {
        y: 0, autoAlpha: 1, duration: 0.8, ease: 'power2.out',
        scrollTrigger: { trigger: el, start: 'top 80%' }
      });
    });
  });
</script>
