---
interface L { src: string; alt?: string }
const { logos = [] as L[] } = Astro.props;
---
<section class="marquee r" aria-label="Trusted by">
  <div class="track">
    {Array.from({length:2}).map(()=>(<div class="lane">
      {logos.map(l => <img loading="lazy" src={l.src} alt={l.alt || 'Logo'} />)}
    </div>))}
  </div>
  <style>
    .marquee{padding:clamp(12px,2vw,20px) 0;overflow:hidden;filter:grayscale(1)}
    .marquee:hover{filter:none}
    .track{display:flex;width:max-content;animation:slide 24s linear infinite}
    .lane{display:flex;gap:clamp(28px,6vw,56px);padding-right:clamp(28px,6vw,56px)}
    img{height:clamp(22px,3vw,36px);opacity:.9;transform:translateZ(0)}
    @keyframes slide{from{transform:translateX(0)}to{transform:translateX(-50%)}}
    @media(prefers-reduced-motion:reduce){.track{animation:none}}
  </style>
</section>
